# 🌐 关于 CNAME 记录前加点的说明与教程

在 DNS 配置中，添加 **CNAME 记录** 时，有些域名注册商或 DNS 服务商要求在记录名称前加一个点（`.`）。本文将说明原因、规则，并提供示例。

---

## 1️⃣ 什么是 CNAME 记录

**CNAME（Canonical Name）记录**是 DNS 中的一种记录类型，用于将一个域名指向另一个域名。  

- **用途**：
  - 🔗 子域名别名（如 `www.example.com` 指向 `example.github.io`）
  - 🛠️ 方便域名管理与跳转

- **基本格式**：

| 名称       | 类型  | 值                         |
|------------|-------|----------------------------|
| www        | CNAME | example.github.io          |

---

## 2️⃣ 为什么有些域名需要在前面加点

DNS 记录有两种写法：

1. **相对域名**（不加点）  
   - `www` → 实际解析为 `www.example.com`  
   - 📝 末尾没有点，DNS 服务商会自动补充主域名

2. **绝对域名**（加点）  
   - `www.` → 表示完整域名 `www.example.com.`  
   - ✅ 末尾加点可避免 DNS 服务商自动追加主域名，确保指向正确目标  

> ⚠️ 注意：这里的“加点”通常指 **CNAME 记录值的末尾加点**，而不是子域名前面加点。少数 DNS 系统可能要求子域名写成 `www.`。

---

## 3️⃣ 使用示例

假设你的主域名是 `example.com`，你想将 `blog.example.com` 指向 `myblog.github.io`。

### 3.1 不加点（大多数情况可用）

| 名称           | 类型  | 值                     |
|----------------|-------|------------------------|
| blog           | CNAME | myblog.github.io       |

### 3.2 加点（部分 DNS 需要）

| 名称           | 类型  | 值                     |
|----------------|-------|------------------------|
| blog           | CNAME | myblog.github.io.      |

- ⚠️ 值最后的点表示 **绝对域名**  
- ❌ 不加点时，部分 DNS 可能解析成 `myblog.github.io.example.com`

---

## 4️⃣ 哪些域名或服务商常要求加点

| 域名/服务商        | 要求说明                                       |
|------------------|-----------------------------------------------|
| **Namecheap**    | 🔹 CNAME 值末尾建议加点，避免解析错误          |
| **Cloudflare**   | 🔹 通常不要求，但高级配置下可以使用绝对域名（加点）|
| **GoDaddy**      | 🔹 CNAME 值加点可确保指向完整目标             |
| **国内 DNS**     | 🔹 阿里云、腾讯云 DNS，通常不要求加点，但老版控制面板加点更安全 |

> 💡 总结：**加点主要是防止 DNS 自动拼接主域名造成指向错误**，大多数情况下加点不会出错。

---

## 5️⃣ 小结与建议

- 对 **CNAME 值**：加点表示绝对域名，避免自动拼接  
- 对 **CNAME 名称（子域名）**：大多数情况下不用加点，少数老 DNS 面板可能要求  
- 配置前先查看 **DNS 提示或文档**，按照要求填写  
- 添加记录后，可用命令或在线工具测试：

```bash
nslookup blog.example.com
dig CNAME blog.example.com
